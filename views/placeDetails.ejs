<!DOCTYPE html>
<html lang="en">
  <%- include("./partials/head.ejs") %>
  <body>
    <h1><%= place.name %></h1>
    <p>Type: <%= place.type %></p>
    <p>Location: <%= place.location %></p>

    <p>Rulers:</p>
    <% if (place.rulers == "") { %>
    <p>No Rulers</p>
    <% } else %> <% place.rulers.forEach((ruler) => { %> <% const rulerId =
    ruler.substr(ruler.length - 4) %>
    <form action="/characters/<%= rulerId %>" class="character">
      <button class="character-box" type="submit"></button>
    </form>
    <% }) %>

    <p>Residents:</p>

    <% console.log(character) %>
    <% place.residents.forEach((resident) => { %> 
    <% const residentId = resident.substr(resident.length - 4) %>
      <form action="/characters/<%= residentId %>" class="character">
        <% if (character.url == place.resident) { %>
        <button class="character-box" type="submit">
          <%= character.name %>
        </button>
        <% } %>
      </form>
    <% }) %>
  </body>
</html>
